mqtt:
  - climate:
      unique_id: "hvac_ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>"
      name: "ONOKOM-AIR-HS-6-MB-B"
      power_command_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Active/on"
      power_command_template: >-
        {% if value == 'OFF' %} 0
        {% else %} 1
        {% endif %} 
      mode_state_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Active mode"
      mode_state_template: >-
        {% set m = value | string %}
        {% if   m == '0' %} off
        {% elif m == '1' %} heat
        {% elif m == '2' %} cool
        {% elif m == '3' %} auto
        {% elif m == '4' %} dry
        {% elif m == '5' %} fan_only
        {% else %} off
        {% endif %}
      mode_command_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Active mode/on"
      mode_command_template: >-
        {% if   value == 'off' %} 0
        {% elif value == 'heat' %} 1
        {% elif value == 'cool' %} 2
        {% elif value == 'auto' %} 3
        {% elif value == 'dry' %} 4
        {% elif value == 'fan_only' %} 5
        {% endif %}
      temperature_state_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Target temperature"
      temperature_command_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Target temperature/on"
      min_temp: 16
      max_temp: 30
      precision: 0.5
      current_temperature_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Indoor air temperature"
      fan_modes:
        - "Авто"
        - "1 Скорость"
        - "2 Скорость"
        - "3 Скорость"
      fan_mode_state_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Fan speed"
      fan_mode_state_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Авто
        {% elif m == 1 %} 1 Скорость
        {% elif m == 2 %} 2 Скорость
        {% elif m == 3 %} 3 Скорость
        {% else %} Авто
        {% endif %}
      fan_mode_command_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Fan speed/on"
      fan_mode_command_template: >-
        {% if   value == 'Авто' %} 0
        {% elif value == '1 Скорость' %} 1
        {% elif value == '2 Скорость' %} 2
        {% elif value == '3 Скорость' %} 3
        {% endif %}
  - select:
      unique_id: "hvac_fan_speed_<впишите modbus-адрес устройства сюда>"
      name: "Скорость вентилятора"
      state_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Fan speed"
      command_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Fan speed/on"
      options:
        - "Авто"
        - "1 Скорость"
        - "2 Скорость"
        - "3 Скорость"
      value_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Авто
        {% elif m == 1 %} 1 Скорость
        {% elif m == 2 %} 2 Скорость
        {% elif m == 3 %} 3 Скорость
        {% else %} Авто
        {% endif %}
      command_template: >-
        {% if   value == 'Авто' %} 0
        {% elif value == '1 Скорость' %} 1
        {% elif value == '2 Скорость' %} 2
        {% elif value == '3 Скорость' %} 3
        {% endif %}
  - select:
      unique_id: "hvac_smart_fan_speed_<впишите modbus-адрес устройства сюда>"
      name: "Скорость вентилятора расширенная"
      state_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Smart fan speed"
      command_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Smart fan speed/on"
      options:
        - "Авто"
        - "1 Скорость"
        - "2 Скорость"
        - "3 Скорость"
      value_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Авто
        {% elif m == 1 %} 1 Скорость
        {% elif m == 2 %} 2 Скорость
        {% elif m == 3 %} 3 Скорость
        {% else %} Авто
        {% endif %}
      command_template: >-
        {% if   value == 'Авто' %} 0
        {% elif value == '1 Скорость' %} 1
        {% elif value == '2 Скорость' %} 2
        {% elif value == '3 Скорость' %} 3
        {% endif %}
  - switch:
      unique_id: "hvac_sleep_mode_<впишите modbus-адрес устройства сюда>"
      name: "Режим сна"
      state_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Sleep mode"
      command_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Sleep mode/on"
      payload_on: "1"
      payload_off: "0"
      state_on: "1"
      state_off: "0"
      icon: "mdi:power-sleep"
  - sensor:
      unique_id: "hvac_ac_connected_<впишите modbus-адрес устройства сюда>"
      name: "Кондиционер подключен"
      state_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/AC connected"
      value_template: "{{ value | int == 1 and 'Подключен' or 'Не подключен' }}"
  - sensor:
      unique_id: "hvac_indoor_heat_exchanger_temperature_<впишите modbus-адрес устройства сюда>"
      name: "Температура внутреннего теплообменника"
      state_topic: "/devices/ONOKOM-AIR-HS-6-MB-B_<впишите modbus-адрес устройства сюда>/controls/Indoor heat exchanger temperature"
      unit_of_measurement: "°C"
      device_class: "temperature"
      state_class: "measurement"
      value_template: "{{ value | float }}"
