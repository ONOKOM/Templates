mqtt:
  - climate:
      unique_id: "hvac_ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>"
      name: "ONOKOM-AIR-DK-5-MB-B"
      power_command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Active/on"
      power_command_template: >-
        {% if value == 'OFF' %} 0
        {% else %} 1
        {% endif %} 
      mode_state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Active mode"
      mode_state_template: >-
        {% set m = value | string %}
        {% if   m == '0' %} off
        {% elif m == '1' %} heat
        {% elif m == '2' %} cool
        {% elif m == '3' %} auto
        {% elif m == '4' %} dry
        {% elif m == '5' %} fan_only
        {% else %} off
        {% endif %}
      mode_command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Active mode/on"
      mode_command_template: >-
        {% if   value == 'off' %} 0
        {% elif value == 'heat' %} 1
        {% elif value == 'cool' %} 2
        {% elif value == 'auto' %} 3
        {% elif value == 'dry' %} 4
        {% elif value == 'fan_only' %} 5
        {% endif %}
      temperature_state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Target temperature"
      temperature_command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Target temperature/on"
      min_temp: 16
      max_temp: 32
      precision: 1
      current_temperature_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Indoor air temperature"
      fan_modes:
        - "Авто"
        - "1 Скорость"
        - "2 Скорость"
        - "3 Скорость"
      fan_mode_state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Fan speed"
      fan_mode_state_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Авто
        {% elif m == 1 %} 1 Скорость
        {% elif m == 2 %} 2 Скорость
        {% elif m == 3 %} 3 Скорость
        {% else %} Авто
        {% endif %}
      fan_mode_command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Fan speed/on"
      fan_mode_command_template: >-
        {% if   value == 'Авто' %} 0
        {% elif value == '1 Скорость' %} 1
        {% elif value == '2 Скорость' %} 2
        {% elif value == '3 Скорость' %} 3
        {% endif %}
      swing_horizontal_modes:
        - "Остановлены"
        - "Качание"
        - "Самое низкое"
        - "Низкое"
        - "Среднее"
        - "Высокое"
        - "Самое высокое"
      swing_horizontal_mode_state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Horizontal vanes"
      swing_horizontal_mode_state_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Остановлены
        {% elif m == 1 %} Качание
        {% elif m == 2 %} Самое низкое
        {% elif m == 3 %} Низкое
        {% elif m == 4 %} Среднее
        {% elif m == 5 %} Высокое
        {% elif m == 6 %} Самое высокое
        {% else %} Остановлены
        {% endif %}
      swing_horizontal_mode_command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Horizontal vanes/on"
      swing_horizontal_mode_command_template: >-
        {% if   value == 'Остановлены' %} 0
        {% elif value == 'Качание' %} 1
        {% elif value == 'Самое низкое' %} 2
        {% elif value == 'Низкое' %} 3
        {% elif value == 'Среднее' %} 4
        {% elif value == 'Высокое' %} 5
        {% elif value == 'Самое высокое' %} 6
        {% endif %}
      swing_modes:
        - "off"
        - "vertical"
        - "horizontal"
        - "both"
      swing_mode_state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Vanes swing"
      swing_mode_state_template: >-
        {% set m = value|int %}
        {% if   m == 0 %} off
        {% elif m == 1 %} both
        {% elif m == 2 %} horizontal
        {% elif m == 3 %} vertical
        {% else %} off
        {% endif %}
      swing_mode_command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Vanes swing/on"
      swing_mode_command_template: >-
        {% if   value == 'off' %} 0
        {% elif value == 'both' %} 1
        {% elif value == 'horizontal' %} 2
        {% elif value == 'vertical' %} 3
        {% endif %}  
  - select:
      unique_id: "hvac_fan_speed_<впишите modbus-адрес устройства сюда>"
      name: "Скорость вентилятора"
      state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Fan speed"
      command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Fan speed/on"
      options:
        - "Авто"
        - "1 Скорость"
        - "2 Скорость"
        - "3 Скорость"
      value_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Авто
        {% elif m == 1 %} 1 Скорость
        {% elif m == 2 %} 2 Скорость
        {% elif m == 3 %} 3 Скорость
        {% else %} Авто
        {% endif %}
      command_template: >-
        {% if   value == 'Авто' %} 0
        {% elif value == '1 Скорость' %} 1
        {% elif value == '2 Скорость' %} 2
        {% elif value == '3 Скорость' %} 3
        {% endif %}
  - select:
      unique_id: "hvac_smart_fan_speed_<впишите modbus-адрес устройства сюда>"
      name: "Скорость вентилятора расширенная"
      state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Smart fan speed"
      command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Smart fan speed/on"
      options:
        - "Авто"
        - "1 Скорость"
        - "2 Скорость"
        - "3 Скорость"
      value_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Авто
        {% elif m == 1 %} 1 Скорость
        {% elif m == 2 %} 2 Скорость
        {% elif m == 3 %} 3 Скорость
        {% else %} Авто
        {% endif %}
      command_template: >-
        {% if   value == 'Авто' %} 0
        {% elif value == '1 Скорость' %} 1
        {% elif value == '2 Скорость' %} 2
        {% elif value == '3 Скорость' %} 3
        {% endif %}
  - select:
      unique_id: "hvac_horizontal_vanes_<впишите modbus-адрес устройства сюда>"
      name: "Горизонтальные жалюзи"
      state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Horizontal vanes"
      command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Horizontal vanes/on"
      options:
        - "Остановлены"
        - "Качание"
        - "Самое низкое"
        - "Низкое"
        - "Среднее"
        - "Высокое"
        - "Самое высокое"
      value_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Остановлены
        {% elif m == 1 %} Качание
        {% elif m == 2 %} Самое низкое
        {% elif m == 3 %} Низкое
        {% elif m == 4 %} Среднее
        {% elif m == 5 %} Высокое
        {% elif m == 6 %} Самое высокое
        {% else %} Остановлены
        {% endif %}
      command_template: >-
        {% if   value == 'Остановлены' %} 0
        {% elif value == 'Качание' %} 1
        {% elif value == 'Самое низкое' %} 2
        {% elif value == 'Низкое' %} 3
        {% elif value == 'Среднее' %} 4
        {% elif value == 'Высокое' %} 5
        {% elif value == 'Самое высокое' %} 6
        {% endif %}
  - select:
      unique_id: "hvac_vanes_swing_<впишите modbus-адрес устройства сюда>"
      name: "Качание жалюзи"
      state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Vanes swing"
      command_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Vanes swing/on"
      options:
        - "Остановлены"
        - "Качание горизонтальных жалюзи"
      value_template: >-
        {% set  m = value | int %}
        {% if   m == 0 %} Остановлены
        {% elif m == 2 %} Качание горизонтальных жалюзи
        {% else %} Остановлены
        {% endif %}
      command_template: >-
        {% if   value == 'Остановлены' %} 0
        {% elif value == 'Качание горизонтальных жалюзи' %} 2
        {% endif %}
  - sensor:
      unique_id: "hvac_ac_connected_<впишите modbus-адрес устройства сюда>"
      name: "Кондиционер подключен"
      state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/AC connected"
      value_template: "{{ value | int == 1 and 'Подключен' or 'Не подключен' }}"
  - sensor:
      unique_id: "hvac_error_code_<впишите modbus-адрес устройства сюда>"
      name: "Код ошибки"
      state_topic: "/devices/ONOKOM-AIR-DK-5-MB-B_<впишите modbus-адрес устройства сюда>/controls/Error code"
      value_template: >-
        {% set code = value | int(0) %}
        {% if code == 0 %}
            Нет ошибок
        {% else %}
            Ошибка {{ code }}
        {% endif %}
      icon: "mdi:alert-circle"
